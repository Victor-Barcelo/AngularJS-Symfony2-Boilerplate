{"version":3,"names":[],"mappings":"","sources":["controllers/mainController.js"],"sourcesContent":["(function () {\n\n    var app = angular.module(\"scraperify\");\n\n    var MainController = function ($http) {\n        var vm = this;\n\n        vm.doClick = function () {\n\n            var encodedUrl = 'http://localhost/Ng-ex2/build/api/scrape/' + vm.selectedLangFrom.name + '/' + vm.selectedLangTo.name + '/' + encodeURIComponent(vm.selector) + '/' + encodeURIComponent(encodeURIComponent(prepareUrl(vm.url)));\n            var responsePromise = $http.get(encodedUrl);\n\n            responsePromise.success(function (data, status, headers, config) {\n                vm.nodes = data.data;\n                //console.log(data);\n            });\n            responsePromise.error(function (data, status, headers, config) {\n                //console.log(\"AJAX failed!\");\n            });\n        };\n\n        vm.langFrom = [\n            {id: 1, name: 'es'},\n            {id: 2, name: 'en'}\n        ];\n\n        vm.selectedLangFrom = vm.langFrom[0];\n\n        vm.langTo = [\n            {id: 1, name: 'es'},\n            {id: 2, name: 'en'}\n        ];\n        vm.selectedLangTo = vm.langTo[0];\n\n        vm.url = 'victorbarcelo.net';\n        vm.selector = '.post_title';\n        //vm.url = null;\n        //vm.selector = null;\n\n    };\n\n    var prepareUrl = function (url) {\n        return url.replace(/.*?:\\/\\//g, \"\").replace(/\\/$/, \"\");\n    };\n\n    app.controller(\"MainController\", MainController);\n\n}());"],"file":"controllers/mainController.js","sourceRoot":"/source/"}